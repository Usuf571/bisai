# üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å PHP –Ω–∞ Node.js

## –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

–í–∞—à –ø—Ä–æ–µ–∫—Ç BiSAI –±—ã–ª –ø–µ—Ä–µ–¥–µ–ª–∞–Ω —Å **PHP** –Ω–∞ **Node.js + Express + MongoDB**.

### –ü–æ—á–µ–º—É?
- Node.js —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ –¥–ª—è real-time –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- Express - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- MongoDB - –æ—Ç–ª–∏—á–Ω–∞—è –±–∞–∑–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–æ—â–µ (Heroku, Railway, DigitalOcean)
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GitHub Pages —Å API –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ë—ã–ª–æ (PHP) | –°—Ç–∞–ª–æ (Node.js) |
|-----------|-----------|-----------------|
| **–Ø–∑—ã–∫** | PHP 7.4+ | Node.js 16+ |
| **–§—Ä–µ–π–º–≤–æ—Ä–∫** | Custom MVC | Express.js |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | MySQL | MongoDB |
| **–°–µ—Ä–≤–µ—Ä –ë–î** | phpMyAdmin | MongoDB Compass |
| **API** | `api.php` | Express –º–∞—Ä—à—Ä—É—Ç—ã |
| **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** | Sessions | JWT —Ç–æ–∫–µ–Ω—ã |
| **–ú–æ–¥–µ–ª–∏** | Custom ORM | Mongoose |
| **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** | FTP –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ | Docker/Heroku/Railway |

---

## üöÄ –ö–∞–∫ –Ω–∞—á–∞—Ç—å (3 –º–∏–Ω—É—Ç—ã)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js (https://nodejs.org)

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd bisai

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å .env
copy .env.example .env

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å
npm start

# 6. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –° Docker (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)

```bash
# –¢—Ä–µ–±—É–µ—Ç—Å—è Docker Desktop (https://docker.com)

docker-compose up

# –ì–æ—Ç–æ–≤–æ! –°–µ—Ä–≤–µ—Ä –Ω–∞ http://localhost:3000
# MongoDB –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
```

---

## üóÇÔ∏è –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
–ë—ã–ª–æ (PHP):                 –°—Ç–∞–ª–æ (Node.js):
‚îú‚îÄ‚îÄ config/                 ‚îú‚îÄ‚îÄ src/
‚îú‚îÄ‚îÄ controllers/ (PHP)       ‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ models/ (PHP)           ‚îÇ   ‚îú‚îÄ‚îÄ controllers/
‚îú‚îÄ‚îÄ includes/               ‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îú‚îÄ‚îÄ public/                 ‚îÇ   ‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ api.php             ‚îÇ   ‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ index.php           ‚îÇ   ‚îî‚îÄ‚îÄ server.js
‚îÇ   ‚îú‚îÄ‚îÄ login.php           ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ play.php            ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ assets/             ‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ                           ‚îÇ   ‚îî‚îÄ‚îÄ assets/
‚îî‚îÄ‚îÄ database/               ‚îÇ
                            ‚îú‚îÄ‚îÄ package.json
                            ‚îú‚îÄ‚îÄ .env
                            ‚îî‚îÄ‚îÄ Dockerfile
```

---

## üîå API Endpoints (–æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ –∂–µ)

–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ-–ø—Ä–µ–∂–Ω–µ–º—É, –Ω–æ —Ç–µ–ø–µ—Ä—å –±–∞–∑–∞ - Express –≤–º–µ—Å—Ç–æ PHP:

```javascript
// –ë—ã–ª–æ
POST /api.php?action=login

// –°—Ç–∞–ª–æ
POST /api/auth/login
```

**–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏!** –¢–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.

---

## üîë JWT –≤–º–µ—Å—Ç–æ Sessions

### –°—Ç–∞—Ä–æ (PHP Sessions):
```php
$_SESSION['user_id'] = 123;
```

### –ù–æ–≤–æ (JWT):
```bash
# –í –∑–∞–≥–æ–ª–æ–≤–∫–µ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
Authorization: Bearer eyJhbGc...
```

**–§—Ä–æ–Ω—Ç–µ–Ω–¥ —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–æ–∫–µ–Ω–∞.

---

## üíæ MongoDB –≤–º–µ—Å—Ç–æ MySQL

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB

**–í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω–æ**
```bash
# Windows
choco install mongodb-community

# macOS
brew install mongodb-community

# Linux
sudo apt-get install -y mongodb
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –û–±–ª–∞–∫–æ (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)**
```
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: https://cloud.mongodb.com
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä (Free tier)
3. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
4. –í—Å—Ç–∞–≤–∏—Ç—å –≤ .env:
   DATABASE_URL=mongodb+srv://user:pass@cluster.mongodb.net/bisai
```

**–í–∞—Ä–∏–∞–Ω—Ç 3: Docker Compose (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π)**
```bash
docker-compose up mongo
# MongoDB –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```bash
PORT=3000
NODE_ENV=development
DATABASE_URL=mongodb://localhost:27017/bisai
JWT_SECRET=–≤–∞—à-—Å—É–ø–µ—Ä—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-–∏–∑–º–µ–Ω–∏—Ç–µ-—ç—Ç–æ
SESSION_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç
CORS_ORIGIN=http://localhost:3000
```

**–í–ê–ñ–ù–û:** –î–ª—è production –º–µ–Ω—è–π—Ç–µ `JWT_SECRET` –Ω–∞ —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å!

---

## üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤

### Windows:
```bash
cleanup.bat
```

### Mac/Linux:
```bash
bash cleanup.sh
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ PHP —Ñ–∞–π–ª—ã. **–†–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ —ç—Ç–∏–º!**

---

## ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- ‚úì –§—Ä–æ–Ω—Ç–µ–Ω–¥ HTML/CSS/JS (–æ–±–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- ‚úì –õ–æ–≥–∏–∫–∞ –∏–≥—Ä—ã (–ø—Ä–∞–≤–∏–ª–∞ —Ç–µ –∂–µ)
- ‚úì –ú–µ—Ö–∞–Ω–∏–∫–∞ "Tug of War" (–∞–Ω–∏–º–∞—Ü–∏—è —Ç–∞ –∂–µ)
- ‚úì API endpoints (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–∞–∫ –∂–µ)
- ‚úì –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–¥–∞–Ω–Ω—ã–µ –ª–µ–≥–∫–æ –º–∏–≥—Ä–∏—Ä—É—é—Ç)

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "npm: command not found"
‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js: https://nodejs.org

### "MongoDB connection error"
‚Üí –ó–∞–ø—É—Å—Ç–∏—Ç—å MongoDB –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MongoDB Atlas (–æ–±–ª–∞–∫–æ)

### "Port 3000 is already in use"
‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç: `PORT=3001 npm start`

### "Cannot find module"
‚Üí –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **NODE_SETUP.md** - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- **README_NODE.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **Dockerfile** - –î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤ Docker
- **docker-compose.yml** - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ë—ã—Å—Ç—Ä–æ (5 –º–∏–Ω—É—Ç):

```bash
# 1. –ù–∞ Heroku
heroku create bisai
git push heroku main

# 2. –ù–∞ Railway
railway up

# 3. –ù–∞ Vercel
vercel deploy

# 4. –ù–∞ DigitalOcean
docker push my-registry/bisai
```

### –° Docker:

```bash
docker build -t bisai .
docker run -p 3000:3000 bisai
```

---

## üéì –û–±—É—á–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–µ–∑–Ω–∞–∫–æ–º—ã —Å Node.js, —Å–º–æ—Ç—Ä–∏—Ç–µ:

- Express: https://expressjs.com/
- Mongoose: https://mongoosejs.com/
- JWT: https://jwt.io/
- Docker: https://docs.docker.com/

---

## üí° –°–æ–≤–µ—Ç

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ **—Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** —Å—Ç–∞—Ä—ã—Ö PHP —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫:

```bash
# –ü–µ—Ä–µ–¥ cleanup.bat
xcopy config config_backup /E /I
xcopy controllers controllers_backup /E /I
```

---

## ‚ùì –ü–æ–º–æ—â—å

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: `node --version`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ MongoDB: `mongosh` –∏–ª–∏ MongoDB Compass
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env` - –≤—Å–µ –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ –º–µ—Å—Ç–µ?

---

## ‚ú® –ì–æ—Ç–æ–≤–æ!

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ Node.js!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. `npm install` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. `npm start` - –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
3. –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**–ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏! üöÄ**
